model Wallet {
    // Common
    id        Int      @id @default(autoincrement())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    // Relationships
    userId       String              @unique
    user         User                @relation(fields: [userId], references: [id])
    transactions WalletTransaction[]
}

enum WalletTransactionType {
    ATTENDANCE
    PURCHASE
    ADJUSTMENT
}

model WalletTransaction {
    // Common
    id        Int      @id @default(autoincrement())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    // Properties
    type               WalletTransactionType
    amount             Float
    characterName      String
    reason             String?
    pilotCharacterName String?
    itemName           String?
    archived           Boolean               @default(false)
    archivedAt         DateTime?

    // Relationships
    walletId       Int?
    wallet         Wallet?       @relation(fields: [walletId], references: [id])
    itemId         Int?
    item           Item?         @relation(fields: [itemId], references: [id])
    raidActivityId Int?
    raidActivity   RaidActivity? @relation(fields: [raidActivityId], references: [id])
    createdById    String
    createdByUser  User          @relation("WalletTransactionCreator", fields: [createdById], references: [id])
    updatedById    String
    updatedByUser  User          @relation("WalletTransactionLatestUpdater", fields: [updatedById], references: [id])
}
