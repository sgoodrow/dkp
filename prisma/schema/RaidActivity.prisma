model RaidActivity {
    // Common
    id        Int      @id @default(autoincrement())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    // Properties
    note   String
    payout Float

    // Relationships
    attendees          RaidActivityAttendant[]
    drops              Item[]
    adjustments        WalletTransaction[]
    raidActivityTypeId Int                     @unique
    raidActivityType   RaidActivityType        @relation(fields: [raidActivityTypeId], references: [id])
    createdById        String                  @unique
    createdByUser      User                    @relation("RaidActivityCreator", fields: [createdById], references: [id])
    updatedById        String                  @unique
    updatedByUser      User                    @relation("RaidActivityLatestUpdater", fields: [updatedById], references: [id])
}

model RaidActivityType {
    // Common
    id        Int      @id @default(autoincrement())
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    // Properties
    name          String @unique
    defaultPayout Float

    // Relationships
    raidActivities RaidActivity[]
    createdById    String         @unique
    createdByUser  User           @relation("RaidActivityTypeCreator", fields: [createdById], references: [id])
    updatedById    String         @unique
    updatedByUser  User           @relation("RaidActivityTypeLatestUpdater", fields: [updatedById], references: [id])
}

model RaidActivityAttendant {
    // Common
    id Int @id @default(autoincrement())

    // Relationships
    characterId    Int          @unique
    character      Character    @relation(fields: [characterId], references: [id])
    pilotId        String?      @unique
    pilot          User?        @relation(fields: [pilotId], references: [id])
    raidActivityId Int          @unique
    raidActivity   RaidActivity @relation(fields: [raidActivityId], references: [id])
}
